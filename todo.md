# 面试准备暨笔试错题反思

## 1. Go的内存管理

### 1.1 堆与栈

​	堆是一种数据结构，堆控制一段自己的存储空间，叫做堆空间。堆是在程序运行时**手动申请**的动态内存，而不是在程序编译时，申请某个大小的内存空间。堆是应用程序在运行的时候请求操作系统分配给自己内存，一般是申请/给予的过程。

​	栈又名堆栈是操作系统在建立某个进程时或者线程，为这个线程建立的存储区域，在编译的时候可以指定需要的栈的大小。

### 1.2 Go的内存模型

​	Go这门语言抛弃了C/C++中的开发者]管理内存的方式，实现了主动申请与主动释放管理，增加了**逃逸分析**和**GC**，将开发者从内存管理中释放出来，让开发者有更多的精力去关注软件设计，而不是底层的内存问题。这是Go语言成为高生产力语言的原因之一。

### 1.2.1 计算机存储模型

- **CPU寄存器**
- **CPU Cache**  （三级缓存）
- **内存**
- **硬盘等辅助存储设备**
- **鼠标等外接设备**

从上至下的访问速度越来越慢，访问时间越来越长。

### 1.2.2 虚拟内存

​	进程访问数据的顺序依次是：Cache 、虚拟内存 、 物理内存 、磁盘

​	进程访问内存时，实际上先访问的是虚拟内存，虚拟内存通过页表查看，当前需要访问的内存地址是否已经加载到了物理内存中，**如果**已经在物理内存，**则**取物理内存数据，**如果没有**对应的物理内存，**则**从磁盘加载数据到物理内存，并把物理内存地址和虚拟内存地址更新到页表。

### 1.3 Go的三色标记混合屏障回收

​	

<p align="right"><a href="https://zhuanlan.zhihu.com/p/76802887">reference</a></p>

### 1.2 内存垃圾的产生

## 2. 端口转发

### 2.1 iptable

### 2.2 隧道

**Q: 隧道的话如果用ssh的，能代理到四层吗**

### 2.3 nginx反代

**Q: 全局流量代理还是代理指定协议**

**Q: oss的https为什么要全局代理**

## 3. 消息队列

### 3.1 kafka

### 3.2 rocketmq

## 4.线程池的配置



